$def with (content)
<!doctype html>
<html>
 <head>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    $if getcfg('webapptitle'):
      <meta name="apple-mobile-web-app-title" content="$getcfg('webapptitle')">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="application-name" content="$getcfg('webapptitle')" />
      <link rel="manifest" href="$app_path('/manifest.json')" crossorigin="use-credentials" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>$content.title</title>
  </head>
  <body>
    <!-- TODO: responsive collapse with right alignment -->
    <nav class="navbar navbar-expand navbar-light bg-light">
      <div class="container-fluid">
      $if getcfg('homeurl'):
        <a class="navbar-brand" href="$getcfg('homeurl')">Accueil</a>
      <ul class="navbar-nav">
	<li class="nav-item">
	  <!-- could use https://icons.getbootstrap.com/icons/house-gear/ -->
	  <a class="nav-link" href="$app_path('/')">Général</a>
	</li>
	$if getcfg('hcircuits'):
  	  <li class="nav-item dropdown">
	    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
	      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fire" viewBox="0 0 16 16">
	        <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"/>
	      </svg>
	    </a>
	    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
	    $for i in getcfg('hcircuits'):
	      <li><a class="dropdown-item" href="$app_path('/hcircuit')/$i">$getobjname("hcircuit",i)</a></li>
	    </ul>
	  </li>
	$if getcfg('dhwts'):
	  <li class="nav-item dropdown">
	    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
	      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-droplet-half" viewBox="0 0 16 16">
	        <path fill-rule="evenodd" d="M7.21.8C7.69.295 8 0 8 0c.109.363.234.708.371 1.038.812 1.946 2.073 3.35 3.197 4.6C12.878 7.096 14 8.345 14 10a6 6 0 0 1-12 0C2 6.668 5.58 2.517 7.21.8zm.413 1.021A31.25 31.25 0 0 0 5.794 3.99c-.726.95-1.436 2.008-1.96 3.07C3.304 8.133 3 9.138 3 10c0 0 2.5 1.5 5 .5s5-.5 5-.5c0-1.201-.796-2.157-2.181-3.7l-.03-.032C9.75 5.11 8.5 3.72 7.623 1.82z"/>
	        <path fill-rule="evenodd" d="M4.553 7.776c.82-1.641 1.717-2.753 2.093-3.13l.708.708c-.29.29-1.128 1.311-1.907 2.87l-.894-.448z"/>
	      </svg>
	    </a>
	    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
	    $for i in getcfg('dhwts'):
	      <li><a class="dropdown-item" href="$app_path('/dhwt')/$i">$getobjname("dhwt",i)</a></li>
	    </ul>
	  </li>
	$if getcfg('temperatures'):
	  <li class="nav-item">
	    <a class="nav-link" href="$app_path('/temperatures')">
	      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-thermometer-half" viewBox="0 0 16 16">
	        <path d="M9.5 12.5a1.5 1.5 0 1 1-2-1.415V6.5a.5.5 0 0 1 1 0v4.585a1.5 1.5 0 0 1 1 1.415z"/>
	        <path d="M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0V2.5zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1z"/>
	      </svg>
	    </a>
	  </li>
	$if getcfg('graphurl'):
	  <li class="nav-item">
	    <a class="nav-link" href="$getcfg('graphurl')">
	      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-graph-up" viewBox="0 0 16 16">
	        <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z"/>
	      </svg>
	    </a>
	  </li>
      </ul>
      </div>
    </nav>
    <div class="container mt-3">
	$:content
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>
